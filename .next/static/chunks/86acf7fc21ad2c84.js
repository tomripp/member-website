(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94765,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(53145),o=e.i(94814),i=e.i(81307),n=e.i(48148),l=e.i(61745),a=e.i(20133),d=e.i(19455),u=e.i(3133),m=e.i(93479),c=e.i(29592);let h=i.z.object({email:i.z.string().email(),password:i.z.string().min(1)});function x(){let e=(0,n.useTranslations)("auth.login"),i=(0,l.useLocale)(),x=(0,a.useRouter)(),[p,f]=(0,s.useState)(null),[j,g]=(0,s.useState)(!1),F=(0,t.useForm)({resolver:(0,o.zodResolver)(h),defaultValues:{email:"",password:""}}),b=async r=>{g(!0),f(null);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,locale:i})});if(await s.json(),!s.ok)return void(403===s.status?f(e("error_unverified")):f(e("error_invalid")));x.push("/members"),x.refresh()}catch{f(e("error_invalid"))}finally{g(!1)}};return(0,r.jsx)(u.Form,{...F,children:(0,r.jsxs)("form",{onSubmit:F.handleSubmit(b),className:"space-y-4",children:[p&&(0,r.jsx)(c.Alert,{variant:"destructive",children:(0,r.jsx)(c.AlertDescription,{children:p})}),(0,r.jsx)(u.FormField,{control:F.control,name:"email",render:({field:s})=>(0,r.jsxs)(u.FormItem,{children:[(0,r.jsx)(u.FormLabel,{children:e("email")}),(0,r.jsx)(u.FormControl,{children:(0,r.jsx)(m.Input,{type:"email",placeholder:"you@example.com",autoComplete:"email",...s})}),(0,r.jsx)(u.FormMessage,{})]})}),(0,r.jsx)(u.FormField,{control:F.control,name:"password",render:({field:s})=>(0,r.jsxs)(u.FormItem,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(u.FormLabel,{children:e("password")}),(0,r.jsx)(a.Link,{href:"/auth/forgot-password",className:"text-xs text-muted-foreground hover:text-foreground underline-offset-4 hover:underline",children:e("forgot_password")})]}),(0,r.jsx)(u.FormControl,{children:(0,r.jsx)(m.Input,{type:"password",autoComplete:"current-password",...s})}),(0,r.jsx)(u.FormMessage,{})]})}),(0,r.jsx)(d.Button,{type:"submit",className:"w-full",disabled:j,children:j?"...":e("submit")}),(0,r.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:[e("no_account")," ",(0,r.jsx)(a.Link,{href:"/auth/register",className:"font-medium text-foreground underline-offset-4 hover:underline",children:e("register_link")})]})]})})}e.s(["LoginForm",()=>x])}]);