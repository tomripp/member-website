(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4046,s=>{"use strict";var e=s.i(43476),r=s.i(71645),o=s.i(53145),t=s.i(94814),i=s.i(81307),n=s.i(48148),a=s.i(20133),l=s.i(19455),d=s.i(3133),c=s.i(93479),m=s.i(29592);let u=i.z.object({password:i.z.string().min(8),confirm:i.z.string().min(8)}).refine(s=>s.password===s.confirm,{message:"Passwords do not match.",path:["confirm"]});function p({token:s}){let i=(0,n.useTranslations)("auth.reset_password"),p=(0,a.useRouter)(),[h,j]=(0,r.useState)(null),[w,x]=(0,r.useState)(!1),f=(0,o.useForm)({resolver:(0,t.zodResolver)(u),defaultValues:{password:"",confirm:""}}),F=async e=>{x(!0),j(null);try{let r=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,password:e.password})}),o=await r.json();if(!r.ok)return void j(o.error??i("error"));p.push("/auth/login?reset=success")}catch{j(i("error"))}finally{x(!1)}};return(0,e.jsx)(d.Form,{...f,children:(0,e.jsxs)("form",{onSubmit:f.handleSubmit(F),className:"space-y-4",children:[h&&(0,e.jsx)(m.Alert,{variant:"destructive",children:(0,e.jsx)(m.AlertDescription,{children:h})}),(0,e.jsx)(d.FormField,{control:f.control,name:"password",render:({field:s})=>(0,e.jsxs)(d.FormItem,{children:[(0,e.jsx)(d.FormLabel,{children:i("password")}),(0,e.jsx)(d.FormControl,{children:(0,e.jsx)(c.Input,{type:"password",autoComplete:"new-password",...s})}),(0,e.jsx)(d.FormMessage,{})]})}),(0,e.jsx)(d.FormField,{control:f.control,name:"confirm",render:({field:s})=>(0,e.jsxs)(d.FormItem,{children:[(0,e.jsx)(d.FormLabel,{children:i("password_confirm")}),(0,e.jsx)(d.FormControl,{children:(0,e.jsx)(c.Input,{type:"password",autoComplete:"new-password",...s})}),(0,e.jsx)(d.FormMessage,{})]})}),(0,e.jsx)(l.Button,{type:"submit",className:"w-full",disabled:w,children:w?"...":i("submit")})]})})}s.s(["ResetPasswordForm",()=>p])}]);