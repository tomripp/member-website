{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/i18n/routing.ts"],"sourcesContent":["import { defineRouting } from \"next-intl/routing\";\n\nexport const routing = defineRouting({\n  locales: [\"en\", \"de\"],\n  defaultLocale: \"en\",\n});\n\nexport type Locale = (typeof routing.locales)[number];\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,UAAU,IAAA,2PAAa,EAAC;IACnC,SAAS;QAAC;QAAM;KAAK;IACrB,eAAe;AACjB"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import createMiddleware from \"next-intl/middleware\";\nimport { type NextRequest, NextResponse } from \"next/server\";\nimport { jwtVerify } from \"jose\";\nimport { routing } from \"./src/i18n/routing\";\n\nconst intlMiddleware = createMiddleware(routing);\n\nconst PROTECTED_PATHS = /^\\/(en|de)\\/members(\\/.*)?$/;\nconst JWT_SECRET_KEY = () =>\n  new TextEncoder().encode(process.env.JWT_SECRET ?? \"fallback-secret-change-me\");\n\nexport async function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  if (PROTECTED_PATHS.test(pathname)) {\n    const sessionCookie = request.cookies.get(\"session\");\n\n    if (!sessionCookie?.value) {\n      const locale = pathname.split(\"/\")[1] || \"en\";\n      const loginUrl = new URL(`/${locale}/auth/login`, request.url);\n      loginUrl.searchParams.set(\"callbackUrl\", pathname);\n      return NextResponse.redirect(loginUrl);\n    }\n\n    try {\n      await jwtVerify(sessionCookie.value, JWT_SECRET_KEY());\n    } catch {\n      const locale = pathname.split(\"/\")[1] || \"en\";\n      const loginUrl = new URL(`/${locale}/auth/login`, request.url);\n      const response = NextResponse.redirect(loginUrl);\n      response.cookies.set(\"session\", \"\", { maxAge: 0, path: \"/\" });\n      return response;\n    }\n  }\n\n  return intlMiddleware(request);\n}\n\nexport const config = {\n  matcher: [\n    \"/((?!api|_next/static|_next/image|favicon\\\\.ico|.*\\\\..*).*)\",\n  ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,IAAA,yMAAgB,EAAC,yIAAO;AAE/C,MAAM,kBAAkB;AACxB,MAAM,iBAAiB,IACrB,IAAI,cAAc,MAAM,CAAC,QAAQ,GAAG,CAAC,UAAU,IAAI;AAE9C,eAAe,WAAW,OAAoB;IACnD,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,IAAI,gBAAgB,IAAI,CAAC,WAAW;QAClC,MAAM,gBAAgB,QAAQ,OAAO,CAAC,GAAG,CAAC;QAE1C,IAAI,CAAC,eAAe,OAAO;YACzB,MAAM,SAAS,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;YACzC,MAAM,WAAW,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,WAAW,CAAC,EAAE,QAAQ,GAAG;YAC7D,SAAS,YAAY,CAAC,GAAG,CAAC,eAAe;YACzC,OAAO,gMAAY,CAAC,QAAQ,CAAC;QAC/B;QAEA,IAAI;YACF,MAAM,IAAA,4KAAS,EAAC,cAAc,KAAK,EAAE;QACvC,EAAE,OAAM;YACN,MAAM,SAAS,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;YACzC,MAAM,WAAW,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,WAAW,CAAC,EAAE,QAAQ,GAAG;YAC7D,MAAM,WAAW,gMAAY,CAAC,QAAQ,CAAC;YACvC,SAAS,OAAO,CAAC,GAAG,CAAC,WAAW,IAAI;gBAAE,QAAQ;gBAAG,MAAM;YAAI;YAC3D,OAAO;QACT;IACF;IAEA,OAAO,eAAe;AACxB;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;KACD;AACH"}}]
}