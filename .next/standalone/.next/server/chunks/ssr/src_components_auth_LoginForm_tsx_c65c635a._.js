module.exports=[72947,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95245),e=a.i(59501),f=a.i(56757),g=a.i(15925),h=a.i(32886),i=a.i(55027),j=a.i(99570),k=a.i(41921),l=a.i(66718),m=a.i(24348);let n=f.z.object({email:f.z.string().email(),password:f.z.string().min(1)});function o(){let a=(0,g.useTranslations)("auth.login"),f=(0,h.useLocale)(),o=(0,i.useRouter)(),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!1),t=(0,d.useForm)({resolver:(0,e.zodResolver)(n),defaultValues:{email:"",password:""}}),u=async b=>{s(!0),q(null);try{let c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,locale:f})});if(await c.json(),!c.ok)return void(403===c.status?q(a("error_unverified")):q(a("error_invalid")));o.push("/members"),o.refresh()}catch{q(a("error_invalid"))}finally{s(!1)}};return(0,b.jsx)(k.Form,{...t,children:(0,b.jsxs)("form",{onSubmit:t.handleSubmit(u),className:"space-y-4",children:[p&&(0,b.jsx)(m.Alert,{variant:"destructive",children:(0,b.jsx)(m.AlertDescription,{children:p})}),(0,b.jsx)(k.FormField,{control:t.control,name:"email",render:({field:c})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsx)(k.FormLabel,{children:a("email")}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.Input,{type:"email",placeholder:"you@example.com",autoComplete:"email",...c})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(k.FormField,{control:t.control,name:"password",render:({field:c})=>(0,b.jsxs)(k.FormItem,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(k.FormLabel,{children:a("password")}),(0,b.jsx)(i.Link,{href:"/auth/forgot-password",className:"text-xs text-muted-foreground hover:text-foreground underline-offset-4 hover:underline",children:a("forgot_password")})]}),(0,b.jsx)(k.FormControl,{children:(0,b.jsx)(l.Input,{type:"password",autoComplete:"current-password",...c})}),(0,b.jsx)(k.FormMessage,{})]})}),(0,b.jsx)(j.Button,{type:"submit",className:"w-full",disabled:r,children:r?"...":a("submit")}),(0,b.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:[a("no_account")," ",(0,b.jsx)(i.Link,{href:"/auth/register",className:"font-medium text-foreground underline-offset-4 hover:underline",children:a("register_link")})]})]})})}a.s(["LoginForm",()=>o])}];

//# sourceMappingURL=src_components_auth_LoginForm_tsx_c65c635a._.js.map