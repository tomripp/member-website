{"version":3,"sources":["../../../../src/components/auth/ForgotPasswordForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useTranslations } from \"next-intl\";\nimport { useLocale } from \"next-intl\";\nimport { Link } from \"@/i18n/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\n\nconst formSchema = z.object({\n  email: z.string().email(),\n});\n\ntype FormData = z.infer<typeof formSchema>;\n\nexport function ForgotPasswordForm() {\n  const t = useTranslations(\"auth.forgot_password\");\n  const locale = useLocale();\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const form = useForm<FormData>({\n    resolver: zodResolver(formSchema),\n    defaultValues: { email: \"\" },\n  });\n\n  const onSubmit = async (data: FormData) => {\n    setLoading(true);\n    try {\n      await fetch(\"/api/auth/forgot-password\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ...data, locale }),\n      });\n      setSuccess(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (success) {\n    return (\n      <div className=\"space-y-4\">\n        <Alert className=\"border-green-200 bg-green-50 text-green-800\">\n          <AlertDescription>{t(\"success\")}</AlertDescription>\n        </Alert>\n        <p className=\"text-center text-sm\">\n          <Link\n            href=\"/auth/login\"\n            className=\"text-muted-foreground underline-offset-4 hover:underline\"\n          >\n            {t(\"back_to_login\")}\n          </Link>\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n        <FormField\n          control={form.control}\n          name=\"email\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{t(\"email\")}</FormLabel>\n              <FormControl>\n                <Input\n                  type=\"email\"\n                  placeholder=\"you@example.com\"\n                  autoComplete=\"email\"\n                  {...field}\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n          {loading ? \"...\" : t(\"submit\")}\n        </Button>\n\n        <p className=\"text-center text-sm\">\n          <Link\n            href=\"/auth/login\"\n            className=\"text-muted-foreground underline-offset-4 hover:underline\"\n          >\n            {t(\"back_to_login\")}\n          </Link>\n        </p>\n      </form>\n    </Form>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAQA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAa,EAAA,CAAC,CAAC,MAAM,CAAC,CAC1B,MAAO,EAAA,CAAC,CAAC,MAAM,GAAG,KAAK,EACzB,GAIO,SAAS,IACd,IAAM,EAAI,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,wBACpB,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEjC,EAAO,CAAA,EAAA,EAAA,OAAA,AAAO,EAAW,CAC7B,SAAU,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,GACtB,cAAe,CAAE,MAAO,EAAG,CAC7B,GAEM,EAAW,MAAO,IACtB,GAAW,GACX,GAAI,CACF,MAAM,MAAM,4BAA6B,CACvC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CAAE,GAAG,CAAI,QAAE,CAAO,EACzC,GACA,GAAW,EACb,QAAU,CACR,GAAW,EACb,CACF,SAEA,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,EAET,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,uDACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,UAAE,EAAE,eAEvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CACH,KAAK,cACL,UAAU,oEAET,EAAE,wBAQX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAE,GAAG,CAAI,UACZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAK,YAAY,CAAC,GAAW,UAAU,sBACrD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAK,QACL,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAE,EAAE,WACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,QACL,YAAY,kBACZ,aAAa,QACZ,GAAG,CAAK,KAGb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,QAKlB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,UAAU,SAAS,SAAU,WAChD,EAAU,MAAQ,EAAE,YAGvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CACH,KAAK,cACL,UAAU,oEAET,EAAE,yBAMf"}