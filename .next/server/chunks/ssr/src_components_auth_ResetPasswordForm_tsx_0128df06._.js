module.exports=[81887,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95245),e=a.i(59501),f=a.i(56757),g=a.i(15925),h=a.i(55027),i=a.i(99570),j=a.i(41921),k=a.i(66718),l=a.i(24348);let m=f.z.object({password:f.z.string().min(8),confirm:f.z.string().min(8)}).refine(a=>a.password===a.confirm,{message:"Passwords do not match.",path:["confirm"]});function n({token:a}){let f=(0,g.useTranslations)("auth.reset_password"),n=(0,h.useRouter)(),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),s=(0,d.useForm)({resolver:(0,e.zodResolver)(m),defaultValues:{password:"",confirm:""}}),t=async b=>{r(!0),p(null);try{let c=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,password:b.password})}),d=await c.json();if(!c.ok)return void p(d.error??f("error"));n.push("/auth/login?reset=success")}catch{p(f("error"))}finally{r(!1)}};return(0,b.jsx)(j.Form,{...s,children:(0,b.jsxs)("form",{onSubmit:s.handleSubmit(t),className:"space-y-4",children:[o&&(0,b.jsx)(l.Alert,{variant:"destructive",children:(0,b.jsx)(l.AlertDescription,{children:o})}),(0,b.jsx)(j.FormField,{control:s.control,name:"password",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:f("password")}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{type:"password",autoComplete:"new-password",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:s.control,name:"confirm",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:f("password_confirm")}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{type:"password",autoComplete:"new-password",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(i.Button,{type:"submit",className:"w-full",disabled:q,children:q?"...":f("submit")})]})})}a.s(["ResetPasswordForm",()=>n])}];

//# sourceMappingURL=src_components_auth_ResetPasswordForm_tsx_0128df06._.js.map